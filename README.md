# Model Name Formatter (SillyTavern Extension)

用于在 SillyTavern 聊天消息中显示并格式化模型名称的扩展。

## 功能

- 对方名称常显（忽略 hover，可开关）
- 显示模型名称（关闭时显示原昵称，可开关）
- 模型名称切割（0/1/2/3）
  - `0`：原样保留
  - `1`：取首个 `" - "` 后的内容
  - `2`：在第 1 步基础上，优先取首个 `"/"` 后；无 `"/"` 则再取首个 `" - "` 后
  - `3`：在第 2 步基础上，取最后一个 `"-"` 前的内容

## 安装位置

本扩展按内置扩展路径组织：

`/public/scripts/extensions/model_name_formatter`

确保目录内包含以下文件：

- `manifest.json`
- `index.js`
- `index.html`
- `style.css`

## 使用方式

1. 启动 SillyTavern 并进入扩展设置。
2. 打开 `Model Name Formatter` 折叠面板。
3. 按需切换：
   - `对方名称常显（忽略 hover）`
   - `显示模型名称（关闭时显示昵称）`
   - `模型名称切割` 下拉选项

## 与自定义 CSS 协作

扩展会根据设置切换以下 `body` class：

- `mnf-show-model`：启用模型名称展示
- `mnf-show-ch-name`：启用“对方名称常显”

如果你有全局自定义 CSS，可基于这两个类继续覆盖样式。

## 免责声明

- 本项目为非官方扩展，与 SillyTavern 官方项目无隶属关系或担保关系。
- 扩展按“现状（AS IS）”提供，不承诺适配所有主题、CSS 或未来版本变更。
- 使用者需自行评估风险并对其配置、数据与运行结果负责。
- 因版本更新、第三方样式冲突或自行修改导致的问题，维护者不承担连带责任。

## 维护说明

- 当前未包含自动化测试。
- 建议在升级 SillyTavern 后手动回归检查：
  - 扩展面板能否正常折叠
  - 新消息/编辑消息后模型名是否同步更新
  - 与自定义 CSS 的显示优先级是否符合预期
